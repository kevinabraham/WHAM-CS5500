<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

     <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
	<div class="container">

	    <!-- <h1>Hello, world!</h1> -->

	    <!-- <div class="btn-group" data-toggle="buttons">
	      <label class="btn btn-primary">
	        <input id="festivals" type="checkbox" autocomplete="off"> Festivals
	      </label>
	      <label class="btn btn-primary">
	        <input id="music" type="checkbox" autocomplete="off"> Music
	      </label>
	      <label class="btn btn-primary">
	        <input id="movies" type="checkbox" autocomplete="off"> Movies
	      </label>
	    </div> -->

		<div class="checkbox">
		    <label>
		      <input id="festivals" type="checkbox"> Festivals
		    </label>
		</div>

		<div class="checkbox">
		    <label>
		      <input id="music" type="checkbox"> Music
		    </label>
		</div>

		<div class="checkbox">
		    <label>
		      <input id="movies_film" type="checkbox"> Movies
		    </label>
		</div>

	    <br></br>

	    <div>
	      <button type="button" id="searchButton" class="btn btn-primary" autocomplete="off">
	        SEARCH
	      </button>
	    </div>  

	    <div class="displayEvents"></div>

    </div>
   	<script type="text/javascript" src="http://api.eventful.com/js/api"></script>
    <script>

    $(document).ready(function (){

    	var eventsList;
		var display = $(".displayEvents");
		display.empty();
      // $('#festivals, music, movies').on('click', function () {
      //   $(this).button('toggle'); // button text will be "finished!"
      //   $(this).checked = true;
      // });

      $("#searchButton").on("click", function(){
      	// CLEARING LIST USED FOR INDICATING SELECTED CHECKBOXES
      	eventsList = "";
      	display.empty();


        var festivalCheckbox = $("#festivals");
        if(festivalCheckbox.is(":checked")){
          // alert("festivals");
          eventsList = eventsList + "festivals_parades";
          // alert(eventsList);
        }

         var oArgs = {
	      app_key: "vHx53bbX7CwW3hrs",
	      // q: "music",
	      where: "Boston", 
	      category: eventsList,
	      // "date": "2013061000-2015062000",
	      page_size: 5,
	      sort_order: "popularity",
   	  };

	   EVDB.API.call("/events/search", oArgs, function(oData) {

	      // Note: this relies on the custom toString() methods below
	        console.log(oData);

	        for (var i = 0; i < oData.events.event.length; i++) {
	        	
	        	display.append("<li><div><label>"+oData.events.event[i].title
	        		+"</label></div></li>");

	        	// console.log("Title : " + oData.events.event[i].title )
	        };

	   });


      });

     


    });

      
    </script>
    
  </body>
</html>